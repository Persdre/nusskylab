!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&"object"==typeof module.exports?t(require("jquery")):t(jQuery)}(function(f){function i(){var t=s.settings;if(t.autoDispose&&!f.contains(document.documentElement,this))return f(this).timeago("dispose"),this;var e=a(this);return isNaN(e.datetime)||(0===t.cutoff||Math.abs(r(e.datetime))<t.cutoff?f(this).text(n(e.datetime,f(this).attr("lang")?f(this).attr("lang"):s.settings.lang)):0<f(this).attr("title").length&&f(this).text(f(this).attr("title"))),this}function a(t){if(!(t=f(t)).data("timeago")){t.data("timeago",{datetime:s.datetime(t)});var e=f.trim(t.text());s.settings.localeTitle?t.attr("title",t.data("timeago").datetime.toLocaleString()):!(0<e.length)||s.isTime(t)&&t.attr("title")||t.attr("title",e)}return t.data("timeago")}function n(t,e){return s.inWords(r(t),e)}function r(t){return(new Date).getTime()-t.getTime()}f.timeago=function(t){return t instanceof Date?n(t):n("string"==typeof t?f.timeago.parse(t):"number"==typeof t?new Date(t):f.timeago.datetime(t))};var s=f.timeago;f.extend(f.timeago,{settings:{refreshMillis:6e4,allowPast:!0,allowFuture:!1,localeTitle:!1,cutoff:0,autoDispose:!0,lang:"en",strings:{en:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",inPast:"any moment now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",wordSeparator:" ",numbers:[]}}},inWords:function(n,t){function e(t,e){var i=f.isFunction(t)?t(e,n):t,a=r.numbers&&r.numbers[e]||e;return i.replace(/%d/i,a)}if(!this.settings.allowPast&&!this.settings.allowFuture)throw"timeago allowPast and allowFuture settings can not both be set to false.";var r=this.settings.strings[t]||this.settings.strings[this.settings.lang]||this.settings.strings.en,i=r.prefixAgo,a=r.suffixAgo;if(this.settings.allowFuture&&n<0&&(i=r.prefixFromNow,a=r.suffixFromNow),!this.settings.allowPast&&0<=n)return r.inPast;var s=Math.abs(n)/1e3,o=s/60,u=o/60,l=u/24,m=l/365,d=s<45&&e(r.seconds,Math.round(s))||s<90&&e(r.minute,1)||o<45&&e(r.minutes,Math.round(o))||o<90&&e(r.hour,1)||u<24&&e(r.hours,Math.round(u))||u<42&&e(r.day,1)||l<30&&e(r.days,Math.round(l))||l<45&&e(r.month,1)||l<365&&e(r.months,Math.round(l/30))||m<1.5&&e(r.year,1)||e(r.years,Math.round(m)),h=r.wordSeparator||"";return r.wordSeparator===undefined&&(h=" "),f.trim([i,d,a].join(h))},parse:function(t){var e=f.trim(t);return e=(e=(e=(e=(e=e.replace(/\.\d+/,"")).replace(/-/,"/").replace(/-/,"/")).replace(/T/," ").replace(/Z/," UTC")).replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2")).replace(/([\+\-]\d\d)$/," $100"),new Date(e)},datetime:function(t){var e=s.isTime(t)?f(t).attr("datetime"):f(t).attr("title");return s.parse(e)},isTime:function(t){return"time"===f(t).get(0).tagName.toLowerCase()}});var o={init:function(){o.dispose.call(this);var t=f.proxy(i,this);t();var e=s.settings;0<e.refreshMillis&&(this._timeagoInterval=setInterval(t,e.refreshMillis))},update:function(t){var e=t instanceof Date?t:s.parse(t);f(this).data("timeago",{datetime:e}),s.settings.localeTitle&&f(this).attr("title",e.toLocaleString()),i.apply(this)},updateFromDOM:function(){f(this).data("timeago",{datetime:s.parse(s.isTime(this)?f(this).attr("datetime"):f(this).attr("title"))}),i.apply(this)},dispose:function(){this._timeagoInterval&&(window.clearInterval(this._timeagoInterval),this._timeagoInterval=null)}};f.fn.timeago=function(t,e){var i=t?o[t]:o.init;if(!i)throw new Error("Unknown function name '"+t+"' for timeago");return this.each(function(){i.call(this,e)}),this},document.createElement("abbr"),document.createElement("time")});