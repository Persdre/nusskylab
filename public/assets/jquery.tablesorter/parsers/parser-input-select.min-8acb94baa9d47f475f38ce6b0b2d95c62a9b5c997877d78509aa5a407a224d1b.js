!function(d){"use strict";var c=function(){};d.tablesorter.addParser({id:"inputs",is:function(){return!1},format:function(e,t,a){var r=d(a).find("input");return r.length?r.val():e},parsed:!0,type:"text"}),d.tablesorter.addParser({id:"inputs-numeric",is:function(){return!1},format:function(e,t,a){var r=d(a).find("input"),n=r.length?r.val():e,i=d.tablesorter.formatFloat((n||"").replace(/[^\w,. \-()]/g,""),t);return e&&"number"==typeof i?i:e?d.trim(e&&t.config.ignoreCase?e.toLocaleLowerCase():e):e},parsed:!0,type:"numeric"}),d.tablesorter.addParser({id:"checkbox",is:function(){return!1},format:function(e,t,a,r){var n=d(a),i=n.closest("tr"),s=t.config.widgetOptions,o=t.config.checkboxClass||"checked",l=s.group_checkbox?s.group_checkbox:["checked","unchecked"],c=n.find('input[type="checkbox"]'),u=c.length?c[0].checked:"";return i.toggleClass(o+"-"+r,u),u?i.addClass(o):i.length&&!(i[0].className||"").match(o+"-")&&i.removeClass(o),c.length?l[u?0:1]:e},parsed:!0,type:"text"}),d.tablesorter.addParser({id:"select",is:function(){return!1},format:function(e,t,a){var r=d(a).find("select");return r.length?r.val():e},parsed:!0,type:"text"}),d.tablesorter.addParser({id:"select-text",is:function(){return!1},format:function(e,t,a){var r=d(a).find("select");return r.length?r.find("option:selected").text()||"":e},parsed:!0,type:"text"}),d.tablesorter.addParser({id:"textarea",is:function(){return!1},format:function(e,t,a){var r=d(a).find("textarea");return r.length?r.val():e},parsed:!0,type:"text"}),d(function(){d("table").on("tablesorter-initialized updateComplete",function(){var e=".parser-forms",t=function(e){e&&d(":focus").blur()};d(this).children("tbody").off(e).on("mouseleave"+e,function(e){t("TBODY"===e.target.nodeName)}).on("focus"+e,"select, input, textarea",function(){d(this).data("ts-original-value",this.value)}).on("blur"+e,"input, textarea",function(){this.value=d(this).data("ts-original-value")}).on("change keyup ".split(" ").join(e+" "),"select, input, textarea",function(e){if(27!==e.which){if("change"===e.type||"keyup"===e.type&&13===e.which&&("INPUT"===e.target.nodeName||"TEXTAREA"===e.target.nodeName&&e.altKey)){var t,a=d(e.target),r=a.closest("td"),n=r.closest("table"),i=r[0].cellIndex,s=n[0].config||!1,o=s&&s.$headerIndexed&&s.$headerIndexed[i]||[],l=a.val();if(o.length&&(o.hasClass("parser-false")||o.hasClass("sorter-false")&&o.hasClass("filter-false")))return;(l!==a.data("ts-original-value")||"checkbox"===e.target.type)&&(a.data("ts-original-value",l),n.trigger("updateCell",[r,t,function(){c(e,n,a)}]))}}else this.value=d(this).data("ts-original-value")})})})}(jQuery);