/*! Widget: filter - updated 10/4/2015 (v2.23.5) */
!function(e){"use strict";var t,r=e.tablesorter||{},i=r.css;e.extend(i,{filterRow:"tablesorter-filter-row",filter:"tablesorter-filter",filterDisabled:"disabled",filterRowHide:"hideme"}),r.addWidget({id:"filter",priority:50,options:{filter_childRows:!1,filter_childByColumn:!1,filter_childWithSibs:!0,filter_columnFilters:!0,filter_columnAnyMatch:!0,filter_cellFilter:"",filter_cssFilter:"",filter_defaultFilter:{},filter_excludeFilter:{},filter_external:"",filter_filteredRow:"filtered",filter_formatter:null,filter_functions:null,filter_hideEmpty:!0,filter_hideFilters:!1,filter_ignoreCase:!0,filter_liveSearch:!0,filter_onlyAvail:"filter-onlyAvail",filter_placeholder:{search:"",select:""},filter_reset:null,filter_saveFilters:!1,filter_searchDelay:300,filter_searchFiltered:!0,filter_selectSource:null,filter_startsWith:!1,filter_useParsedData:!1,filter_serversideFiltering:!1,filter_defaultAttrib:"data-value",filter_selectSourceSeparator:"|"},format:function(e,r,i){r.$table.hasClass("hasFilters")||t.init(e,r,i)},remove:function(t,l,a,n){var s,o,f=l.$table,c=l.$tbodies,d="addRows updateCell update updateRows updateComplete appendCache filterReset filterEnd search ".split(" ").join(l.namespace+"filter ");if(f.removeClass("hasFilters").unbind(d.replace(r.regex.spaces," ")).find("."+i.filterRow).remove(),!n){for(s=0;s<c.length;s++)o=r.processTbody(t,c.eq(s),!0),o.children().removeClass(a.filter_filteredRow).show(),r.processTbody(t,o,!1);a.filter_reset&&e(document).undelegate(a.filter_reset,"click"+l.namespace+"filter")}}}),t=r.filter={regex:{regex:/^\/((?:\\\/|[^\/])+)\/([mig]{0,3})?$/,child:/tablesorter-childRow/,filtered:/filtered/,type:/undefined|number/,exact:/(^[\"\'=]+)|([\"\'=]+$)/g,operators:/[<>=]/g,query:"(q|query)",wild01:/\?/g,wild0More:/\*/g,quote:/\"/g,isNeg1:/(>=?\s*-\d)/,isNeg2:/(<=?\s*\d)/},types:{or:function(r,i,l){if(t.regex.orTest.test(i.iFilter)||t.regex.orSplit.test(i.filter)){var a,n,s,o,f=e.extend({},i),c=i.index,d=i.parsed[c],u=i.filter.split(t.regex.orSplit),p=i.iFilter.split(t.regex.orSplit),h=u.length;for(a=0;h>a;a++){f.nestedFilters=!0,f.filter=""+(t.parseFilter(r,u[a],c,d)||""),f.iFilter=""+(t.parseFilter(r,p[a],c,d)||""),s="("+(t.parseFilter(r,f.filter,c,d)||"")+")";try{if(o=new RegExp(i.isMatch?s:"^"+s+"$",r.widgetOptions.filter_ignoreCase?"i":""),n=o.test(f.exact)||t.processTypes(r,f,l))return n}catch(g){return null}}return n||!1}return null},and:function(r,i,l){if(t.regex.andTest.test(i.filter)){var a,n,s,o,f,c=e.extend({},i),d=i.index,u=i.parsed[d],p=i.filter.split(t.regex.andSplit),h=i.iFilter.split(t.regex.andSplit),g=p.length;for(a=0;g>a;a++){c.nestedFilters=!0,c.filter=""+(t.parseFilter(r,p[a],d,u)||""),c.iFilter=""+(t.parseFilter(r,h[a],d,u)||""),o=("("+(t.parseFilter(r,c.filter,d,u)||"")+")").replace(t.regex.wild01,"\\S{1}").replace(t.regex.wild0More,"\\S*");try{f=new RegExp(i.isMatch?o:"^"+o+"$",r.widgetOptions.filter_ignoreCase?"i":""),s=f.test(c.exact)||t.processTypes(r,c,l),n=0===a?s:n&&s}catch(m){return null}}return n||!1}return null},regex:function(e,r){if(t.regex.regex.test(r.filter)){var i,l=r.filter_regexCache[r.index]||t.regex.regex.exec(r.filter),a=l instanceof RegExp;try{a||(r.filter_regexCache[r.index]=l=new RegExp(l[1],l[2])),i=l.test(r.exact)}catch(n){i=!1}return i}return null},operators:function(i,l){if(t.regex.operTest.test(l.iFilter)&&""!==l.iExact){var a,n,s,o=i.table,f=l.index,c=l.parsed[f],d=r.formatFloat(l.iFilter.replace(t.regex.operators,""),o),u=i.parsers[f],p=d;return(c||"numeric"===u.type)&&(s=e.trim(""+l.iFilter.replace(t.regex.operators,"")),n=t.parseFilter(i,s,f,!0),d="number"!=typeof n||""===n||isNaN(n)?d:n),!c&&"numeric"!==u.type||isNaN(d)||"undefined"==typeof l.cache?(s=isNaN(l.iExact)?l.iExact.replace(r.regex.nondigit,""):l.iExact,a=r.formatFloat(s,o)):a=l.cache,t.regex.gtTest.test(l.iFilter)?n=t.regex.gteTest.test(l.iFilter)?a>=d:a>d:t.regex.ltTest.test(l.iFilter)&&(n=t.regex.lteTest.test(l.iFilter)?d>=a:d>a),n||""!==p||(n=!0),n}return null},notMatch:function(r,i){if(t.regex.notTest.test(i.iFilter)){var l,a=i.iFilter.replace("!",""),n=t.parseFilter(r,a,i.index,i.parsed[i.index])||"";return t.regex.exact.test(n)?(n=n.replace(t.regex.exact,""),""===n?!0:e.trim(n)!==i.iExact):(l=i.iExact.search(e.trim(n)),""===n?!0:!(r.widgetOptions.filter_startsWith?0===l:l>=0))}return null},exact:function(r,i){if(t.regex.exact.test(i.iFilter)){var l=i.iFilter.replace(t.regex.exact,""),a=t.parseFilter(r,l,i.index,i.parsed[i.index])||"";return i.anyMatch?e.inArray(a,i.rowArray)>=0:a==i.iExact}return null},range:function(e,i){if(t.regex.toTest.test(i.iFilter)){var l,a,n,s,o=e.table,f=i.index,c=i.parsed[f],d=i.iFilter.split(t.regex.toSplit);return a=d[0].replace(r.regex.nondigit,"")||"",n=r.formatFloat(t.parseFilter(e,a,f,c),o),a=d[1].replace(r.regex.nondigit,"")||"",s=r.formatFloat(t.parseFilter(e,a,f,c),o),(c||"numeric"===e.parsers[f].type)&&(l=e.parsers[f].format(""+d[0],o,e.$headers.eq(f),f),n=""===l||isNaN(l)?n:l,l=e.parsers[f].format(""+d[1],o,e.$headers.eq(f),f),s=""===l||isNaN(l)?s:l),!c&&"numeric"!==e.parsers[f].type||isNaN(n)||isNaN(s)?(a=isNaN(i.iExact)?i.iExact.replace(r.regex.nondigit,""):i.iExact,l=r.formatFloat(a,o)):l=i.cache,n>s&&(a=n,n=s,s=a),l>=n&&s>=l||""===n||""===s}return null},wild:function(e,r){if(t.regex.wildOrTest.test(r.iFilter)){var i=r.index,l=r.parsed[i],a=""+(t.parseFilter(e,r.iFilter,i,l)||"");!t.regex.wildTest.test(a)&&r.nestedFilters&&(a=r.isMatch?a:"^("+a+")$");try{return new RegExp(a.replace(t.regex.wild01,"\\S{1}").replace(t.regex.wild0More,"\\S*"),e.widgetOptions.filter_ignoreCase?"i":"").test(r.exact)}catch(n){return null}}return null},fuzzy:function(e,r){if(t.regex.fuzzyTest.test(r.iFilter)){var i,l=0,a=r.iExact.length,n=r.iFilter.slice(1),s=t.parseFilter(e,n,r.index,r.parsed[r.index])||"";for(i=0;a>i;i++)r.iExact[i]===s[l]&&(l+=1);return l===s.length?!0:!1}return null}},init:function(l,a,n){r.language=e.extend(!0,{},{to:"to",or:"or",and:"and"},r.language);var s,o,f,c,d,u,p,h,g,m=t.regex;if(a.$table.addClass("hasFilters"),n.filter_searchTimer=null,n.filter_initTimer=null,n.filter_formatterCount=0,n.filter_formatterInit=[],n.filter_anyColumnSelector='[data-column="all"],[data-column="any"]',n.filter_multipleColumnSelector='[data-column*="-"],[data-column*=","]',p="\\{"+t.regex.query+"\\}",e.extend(m,{child:new RegExp(a.cssChildRow),filtered:new RegExp(n.filter_filteredRow),alreadyFiltered:new RegExp("(\\s+("+r.language.or+"|-|"+r.language.to+")\\s+)","i"),toTest:new RegExp("\\s+(-|"+r.language.to+")\\s+","i"),toSplit:new RegExp("(?:\\s+(?:-|"+r.language.to+")\\s+)","gi"),andTest:new RegExp("\\s+("+r.language.and+"|&&)\\s+","i"),andSplit:new RegExp("(?:\\s+(?:"+r.language.and+"|&&)\\s+)","gi"),orTest:/\|/,orSplit:new RegExp("(?:\\s+(?:"+r.language.or+")\\s+|\\|)","gi"),iQuery:new RegExp(p,"i"),igQuery:new RegExp(p,"ig"),operTest:/^[<>]=?/,gtTest:/>/,gteTest:/>=/,ltTest:/</,lteTest:/<=/,notTest:/^\!/,wildOrTest:/[\?\*\|]/,wildTest:/\?\*/,fuzzyTest:/^~/,exactTest:/[=\"\|!]/}),p=a.$headers.filter(".filter-false, .parser-false").length,n.filter_columnFilters!==!1&&p!==a.$headers.length&&t.buildRow(l,a,n),f="addRows updateCell update updateRows updateComplete appendCache filterReset filterEnd search ".split(" ").join(a.namespace+"filter "),a.$table.bind(f,function(r,s){return p=n.filter_hideEmpty&&e.isEmptyObject(a.cache)&&!(a.delayInit&&"appendCache"===r.type),a.$table.find("."+i.filterRow).toggleClass(n.filter_filteredRow,p),/(search|filter)/.test(r.type)||(r.stopPropagation(),t.buildDefault(l,!0)),"filterReset"===r.type?(a.$table.find("."+i.filter).add(n.filter_$externalFilters).val(""),t.searching(l,[])):"filterEnd"===r.type?t.buildDefault(l,!0):(s="search"===r.type?s:"updateComplete"===r.type?a.$table.data("lastSearch"):"",/(update|add)/.test(r.type)&&"updateComplete"!==r.type&&(a.lastCombinedFilter=null,a.lastSearch=[]),t.searching(l,s,!0)),!1}),n.filter_reset&&(n.filter_reset instanceof e?n.filter_reset.click(function(){a.$table.trigger("filterReset")}):e(n.filter_reset).length&&e(document).undelegate(n.filter_reset,"click"+a.namespace+"filter").delegate(n.filter_reset,"click"+a.namespace+"filter",function(){a.$table.trigger("filterReset")})),n.filter_functions)for(d=0;d<a.columns;d++)if(h=r.getColumnData(l,n.filter_functions,d))if(c=a.$headerIndexed[d].removeClass("filter-select"),g=!(c.hasClass("filter-false")||c.hasClass("parser-false")),s="",h===!0&&g)t.buildSelect(l,d);else if("object"==typeof h&&g){for(o in h)"string"==typeof o&&(s+=""===s?'<option value="">'+(c.data("placeholder")||c.attr("data-placeholder")||n.filter_placeholder.select||"")+"</option>":"",p=o,f=o,o.indexOf(n.filter_selectSourceSeparator)>=0&&(p=o.split(n.filter_selectSourceSeparator),f=p[1],p=p[0]),s+="<option "+(f===p?"":'data-function-name="'+o+'" ')+'value="'+p+'">'+f+"</option>");a.$table.find("thead").find("select."+i.filter+'[data-column="'+d+'"]').append(s),f=n.filter_selectSource,h="function"==typeof f?!0:r.getColumnData(l,f,d),h&&t.buildSelect(a.table,d,"",!0,c.hasClass(n.filter_onlyAvail))}t.buildDefault(l,!0),t.bindSearch(l,a.$table.find("."+i.filter),!0),n.filter_external&&t.bindSearch(l,n.filter_external),n.filter_hideFilters&&t.hideFilters(a),a.showProcessing&&(f="filterStart filterEnd ".split(" ").join(a.namespace+"filter "),a.$table.unbind(f.replace(r.regex.spaces," ")).bind(f,function(t,n){c=n?a.$table.find("."+i.header).filter("[data-column]").filter(function(){return""!==n[e(this).data("column")]}):"",r.isProcessing(l,"filterStart"===t.type,n?c:"")})),a.filteredRows=a.totalRows,f="tablesorter-initialized pagerBeforeInitialized ".split(" ").join(a.namespace+"filter "),a.$table.unbind(f.replace(r.regex.spaces," ")).bind(f,function(){var e=this.config.widgetOptions;u=t.setDefaults(l,a,e)||[],u.length&&(a.delayInit&&""===u.join("")||r.setFilters(l,u,!0)),a.$table.trigger("filterFomatterUpdate"),setTimeout(function(){e.filter_initialized||t.filterInitComplete(a)},100)}),a.pager&&a.pager.initialized&&!n.filter_initialized&&(a.$table.trigger("filterFomatterUpdate"),setTimeout(function(){t.filterInitComplete(a)},100))},formatterUpdated:function(e,t){var r=e.closest("table")[0].config.widgetOptions;r.filter_initialized||(r.filter_formatterInit[t]=1)},filterInitComplete:function(r){var i,l,a=r.widgetOptions,n=0,s=function(){a.filter_initialized=!0,r.$table.trigger("filterInit",r),t.findRows(r.table,r.$table.data("lastSearch")||[])};if(e.isEmptyObject(a.filter_formatter))s();else{for(l=a.filter_formatterInit.length,i=0;l>i;i++)1===a.filter_formatterInit[i]&&n++;clearTimeout(a.filter_initTimer),a.filter_initialized||n!==a.filter_formatterCount?a.filter_initialized||(a.filter_initTimer=setTimeout(function(){s()},500)):s()}},setDefaults:function(t,i,l){var a,n,s,o,f,c=r.getFilters(t)||[];if(l.filter_saveFilters&&r.storage&&(n=r.storage(t,"tablesorter-filters")||[],a=e.isArray(n),a&&""===n.join("")||!a||(c=n)),""===c.join(""))for(f=i.$headers.add(l.filter_$externalFilters).filter("["+l.filter_defaultAttrib+"]"),s=0;s<=i.columns;s++)o=s===i.columns?"all":s,c[s]=f.filter('[data-column="'+o+'"]').attr(l.filter_defaultAttrib)||c[s]||"";return i.$table.data("lastSearch",c),c},parseFilter:function(e,t,r,i){return i?e.parsers[r].format(t,e.table,[],r):t},buildRow:function(t,l,a){var n,s,o,f,c,d,u,p,h=a.filter_cellFilter,g=l.columns,m=e.isArray(h),_='<tr role="row" class="'+i.filterRow+" "+l.cssIgnoreRow+'">';for(s=0;g>s;s++)_+="<td",_+=m?h[s]?' class="'+h[s]+'"':"":""!==h?' class="'+h+'"':"",_+="></td>";for(l.$filters=e(_+="</tr>").appendTo(l.$table.children("thead").eq(0)).find("td"),s=0;g>s;s++)c=!1,o=l.$headerIndexed[s],u=r.getColumnData(t,a.filter_functions,s),f=a.filter_functions&&u&&"function"!=typeof u||o.hasClass("filter-select"),n=r.getColumnData(t,l.headers,s),c="false"===r.getData(o[0],n,"filter")||"false"===r.getData(o[0],n,"parser"),f?_=e("<select>").appendTo(l.$filters.eq(s)):(u=r.getColumnData(t,a.filter_formatter,s),u?(a.filter_formatterCount++,_=u(l.$filters.eq(s),s),_&&0===_.length&&(_=l.$filters.eq(s).children("input")),_&&(0===_.parent().length||_.parent().length&&_.parent()[0]!==l.$filters[s])&&l.$filters.eq(s).append(_)):_=e('<input type="search">').appendTo(l.$filters.eq(s)),_&&(p=o.data("placeholder")||o.attr("data-placeholder")||a.filter_placeholder.search||"",_.attr("placeholder",p))),_&&(d=(e.isArray(a.filter_cssFilter)?"undefined"!=typeof a.filter_cssFilter[s]?a.filter_cssFilter[s]||"":"":a.filter_cssFilter)||"",_.addClass(i.filter+" "+d).attr("data-column",s),c&&(_.attr("placeholder","").addClass(i.filterDisabled)[0].disabled=!0))},bindSearch:function(i,l,a){if(i=e(i)[0],l=e(l),l.length){var n,s=i.config,o=s.widgetOptions,f=s.namespace+"filter",c=o.filter_$externalFilters;a!==!0&&(n=o.filter_anyColumnSelector+","+o.filter_multipleColumnSelector,o.filter_$anyMatch=l.filter(n),c&&c.length?o.filter_$externalFilters=o.filter_$externalFilters.add(l):o.filter_$externalFilters=l,r.setFilters(i,s.$table.data("lastSearch")||[],a===!1)),n="keypress keyup search change ".split(" ").join(f+" "),l.attr("data-lastSearchTime",(new Date).getTime()).unbind(n.replace(r.regex.spaces," ")).bind("keyup"+f,function(r){if(e(this).attr("data-lastSearchTime",(new Date).getTime()),27===r.which)this.value="";else{if(o.filter_liveSearch===!1)return;if(""!==this.value&&("number"==typeof o.filter_liveSearch&&this.value.length<o.filter_liveSearch||13!==r.which&&8!==r.which&&(r.which<32||r.which>=37&&r.which<=40)))return}t.searching(i,!0,!0)}).bind("search change keypress ".split(" ").join(f+" "),function(r){var l=parseInt(e(this).attr("data-column"),10);o.filter_initialized&&(13===r.which||"search"===r.type||"change"===r.type&&this.value!==s.lastSearch[l])&&(r.preventDefault(),e(this).attr("data-lastSearchTime",(new Date).getTime()),t.searching(i,!1,!0))})}},searching:function(e,r,i){var l=e.config.widgetOptions;clearTimeout(l.filter_searchTimer),"undefined"==typeof r||r===!0?l.filter_searchTimer=setTimeout(function(){t.checkFilters(e,r,i)},l.filter_liveSearch?l.filter_searchDelay:10):t.checkFilters(e,r,i)},checkFilters:function(l,a,n){var s=l.config,o=s.widgetOptions,f=e.isArray(a),c=f?a:r.getFilters(l,!0),d=(c||[]).join("");return e.isEmptyObject(s.cache)?void(s.delayInit&&s.pager&&s.pager.initialized&&s.$table.trigger("updateCache",[function(){t.checkFilters(l,!1,n)}])):(f&&(r.setFilters(l,c,!1,n!==!0),o.filter_initialized||(s.lastCombinedFilter="")),o.filter_hideFilters&&s.$table.find("."+i.filterRow).trigger(""===d?"mouseleave":"mouseenter"),s.lastCombinedFilter!==d||a===!1?(a===!1&&(s.lastCombinedFilter=null,s.lastSearch=[]),o.filter_initialized&&s.$table.trigger("filterStart",[c]),s.showProcessing?void setTimeout(function(){return t.findRows(l,c,d),!1},30):(t.findRows(l,c,d),!1)):void 0)},hideFilters:function(t){var l;t.$table.find("."+i.filterRow).bind("mouseenter mouseleave",function(r){var a=r,n=e(this);clearTimeout(l),l=setTimeout(function(){/enter|over/.test(a.type)?n.removeClass(i.filterRowHide):e(document.activeElement).closest("tr")[0]!==n[0]&&""===t.lastCombinedFilter&&n.addClass(i.filterRowHide)},200)}).find("input, select").bind("focus blur",function(a){var n=a,s=e(this).closest("tr");clearTimeout(l),l=setTimeout(function(){clearTimeout(l),""===r.getFilters(t.$table).join("")&&s.toggleClass(i.filterRowHide,"focus"!==n.type)},200)})},defaultFilter:function(r,i){if(""===r)return r;var l=t.regex.iQuery,a=i.match(t.regex.igQuery).length,n=a>1?e.trim(r).split(/\s/):[e.trim(r)],s=n.length-1,o=0,f=i;for(1>s&&a>1&&(n[1]=n[0]);l.test(f);)f=f.replace(l,n[o++]||""),l.test(f)&&s>o&&""!==(n[o]||"")&&(f=i.replace(l,f));return f},getLatestSearch:function(t){return t?t.sort(function(t,r){return e(r).attr("data-lastSearchTime")-e(t).attr("data-lastSearchTime")}):t||e()},multipleColumns:function(r,i){var l,a,n,s,o,f,c,d,u,p=r.widgetOptions,h=p.filter_initialized||!i.filter(p.filter_anyColumnSelector).length,g=[],m=e.trim(t.getLatestSearch(i).attr("data-column")||"");if(/^[0-9]+$/.test(m))return parseInt(m,10);if(h&&/-/.test(m))for(a=m.match(/(\d+)\s*-\s*(\d+)/g),u=a.length,d=0;u>d;d++){for(n=a[d].split(/\s*-\s*/),s=parseInt(n[0],10)||0,o=parseInt(n[1],10)||r.columns-1,s>o&&(l=s,s=o,o=l),o>=r.columns&&(o=r.columns-1);o>=s;s++)g.push(s);m=m.replace(a[d],"")}if(h&&/,/.test(m))for(f=m.split(/\s*,\s*/),u=f.length,c=0;u>c;c++)""!==f[c]&&(d=parseInt(f[c],10),d<r.columns&&g.push(d));if(!g.length)for(d=0;d<r.columns;d++)g.push(d);return g},processTypes:function(r,i,l){var a,n=null,s=null;for(a in t.types)e.inArray(a,l.excludeMatch)<0&&null===s&&(s=t.types[a](r,i,l),null!==s&&(n=s));return n},processRow:function(i,l,a){var n,s,o,f,c,d,u,p=t.regex,h=i.widgetOptions,g=!0,m=h.filter_$anyMatch&&h.filter_$anyMatch.length?t.multipleColumns(i,h.filter_$anyMatch):[];if(l.$cells=l.$row.children(),l.anyMatchFlag&&m.length>1){if(l.anyMatch=!0,l.isMatch=!0,l.rowArray=l.$cells.map(function(t){return e.inArray(t,m)>-1?(l.parsed[t]?u=l.cacheArray[t]:(u=l.rawArray[t],u=e.trim(h.filter_ignoreCase?u.toLowerCase():u),i.sortLocaleCompare&&(u=r.replaceAccents(u))),u):void 0}).get(),l.filter=l.anyMatchFilter,l.iFilter=l.iAnyMatchFilter,l.exact=l.rowArray.join(" "),l.iExact=h.filter_ignoreCase?l.exact.toLowerCase():l.exact,l.cache=l.cacheArray.slice(0,-1).join(" "),a.excludeMatch=a.noAnyMatch,f=t.processTypes(i,l,a),null!==f)g=f;else if(h.filter_startsWith)for(g=!1,m=Math.min(i.columns,l.rowArray.length);!g&&m>0;)m--,g=g||0===l.rowArray[m].indexOf(l.iFilter);else g=(l.iExact+l.childRowText).indexOf(l.iFilter)>=0;if(l.anyMatch=!1,l.filters.join("")===l.filter)return g}for(m=0;m<i.columns;m++)l.filter=l.filters[m],l.index=m,a.excludeMatch=a.excludeFilter[m],l.filter&&(l.cache=l.cacheArray[m],h.filter_useParsedData||l.parsed[m]?l.exact=l.cache:(s=l.rawArray[m]||"",l.exact=i.sortLocaleCompare?r.replaceAccents(s):s),l.iExact=!p.type.test(typeof l.exact)&&h.filter_ignoreCase?l.exact.toLowerCase():l.exact,l.isMatch=i.$headerIndexed[l.index].hasClass("filter-match"),s=g,d=h.filter_columnFilters?i.$filters.add(i.$externalFilters).filter('[data-column="'+m+'"]').find("select option:selected").attr("data-function-name")||"":"",i.sortLocaleCompare&&(l.filter=r.replaceAccents(l.filter)),o=!0,h.filter_defaultFilter&&p.iQuery.test(a.defaultColFilter[m])&&(l.filter=t.defaultFilter(l.filter,a.defaultColFilter[m]),o=!1),l.iFilter=h.filter_ignoreCase?(l.filter||"").toLowerCase():l.filter,c=a.functions[m],n=i.$headerIndexed[m].hasClass("filter-select"),f=null,(c||n&&o)&&(c===!0||n?f=l.isMatch?(""+l.iExact).search(l.iFilter)>=0:l.filter===l.exact:"function"==typeof c?f=c(l.exact,l.cache,l.filter,m,l.$row,i,l):"function"==typeof c[d||l.filter]&&(u=d||l.filter,f=c[u](l.exact,l.cache,l.filter,m,l.$row,i,l))),null===f?(f=t.processTypes(i,l,a),null!==f?s=f:(u=(l.iExact+l.childRowText).indexOf(t.parseFilter(i,l.iFilter,m,l.parsed[m])),s=!h.filter_startsWith&&u>=0||h.filter_startsWith&&0===u)):s=f,g=s?g:!1);return g},findRows:function(i,l,a){if(i.config.lastCombinedFilter!==a&&i.config.widgetOptions.filter_initialized){var n,s,o,f,c,d,u,p,h,g,m,_,x,y,F,w,b,C,$,v,S,R,T,A,M=e.extend([],l),E=t.regex,O=i.config,D=O.widgetOptions,z={anyMatch:!1,filters:l,filter_regexCache:[]},I={noAnyMatch:["range","notMatch","operators"],functions:[],excludeFilter:[],defaultColFilter:[],defaultAnyFilter:r.getColumnData(i,D.filter_defaultFilter,O.columns,!0)||""};for(z.parsed=O.$headers.map(function(t){return O.parsers&&O.parsers[t]&&O.parsers[t].parsed||r.getData&&"parsed"===r.getData(O.$headerIndexed[t],r.getColumnData(i,O.headers,t),"filter")||e(this).hasClass("filter-parsed")}).get(),h=0;h<O.columns;h++)I.functions[h]=r.getColumnData(i,D.filter_functions,h),I.defaultColFilter[h]=r.getColumnData(i,D.filter_defaultFilter,h)||"",I.excludeFilter[h]=(r.getColumnData(i,D.filter_excludeFilter,h,!0)||"").split(/\s+/);for(O.debug&&(console.log("Filter: Starting filter widget search",l),F=new Date),O.filteredRows=0,O.totalRows=0,a=(M||[]).join(""),u=0;u<O.$tbodies.length;u++){if(p=r.processTbody(i,O.$tbodies.eq(u),!0),h=O.columns,s=O.cache[u].normalized,f=e(e.map(s,function(e){return e[h].$row.get()})),""===a||D.filter_serversideFiltering)f.removeClass(D.filter_filteredRow).not("."+O.cssChildRow).css("display","");else{if(f=f.not("."+O.cssChildRow),n=f.length,(D.filter_$anyMatch&&D.filter_$anyMatch.length||"undefined"!=typeof l[O.columns])&&(z.anyMatchFlag=!0,z.anyMatchFilter=""+(l[O.columns]||D.filter_$anyMatch&&t.getLatestSearch(D.filter_$anyMatch).val()||""),D.filter_columnAnyMatch)){for(v=z.anyMatchFilter.split(E.andSplit),S=!1,b=0;b<v.length;b++)R=v[b].split(":"),R.length>1&&(T=parseInt(R[0],10)-1,T>=0&&T<O.columns&&(l[T]=R[1],v.splice(b,1),b--,S=!0));S&&(z.anyMatchFilter=v.join(" && "))}if($=D.filter_searchFiltered,_=O.lastSearch||O.$table.data("lastSearch")||[],$)for(b=0;h+1>b;b++)w=l[b]||"",$||(b=h),$=$&&_.length&&0===w.indexOf(_[b]||"")&&!E.alreadyFiltered.test(w)&&!E.exactTest.test(w)&&!(E.isNeg1.test(w)||E.isNeg2.test(w))&&!(""!==w&&O.$filters&&O.$filters.eq(b).find("select").length&&!O.$headerIndexed[b].hasClass("filter-match"));for(C=f.not("."+D.filter_filteredRow).length,$&&0===C&&($=!1),O.debug&&console.log("Filter: Searching through "+($&&n>C?C:"all")+" rows"),z.anyMatchFlag&&(O.sortLocaleCompare&&(z.anyMatchFilter=r.replaceAccents(z.anyMatchFilter)),D.filter_defaultFilter&&E.iQuery.test(I.defaultAnyFilter)&&(z.anyMatchFilter=t.defaultFilter(z.anyMatchFilter,I.defaultAnyFilter),$=!1),z.iAnyMatchFilter=D.filter_ignoreCase&&O.ignoreCase?z.anyMatchFilter.toLowerCase():z.anyMatchFilter),d=0;n>d;d++)if(A=f[d].className,g=d&&E.child.test(A),!(g||$&&E.filtered.test(A))){if(z.$row=f.eq(d),z.cacheArray=s[d],o=z.cacheArray[O.columns],z.rawArray=o.raw,z.childRowText="",!D.filter_childByColumn){for(A="",m=o.child,b=0;b<m.length;b++)A+=" "+m[b].join(" ")||"";z.childRowText=D.filter_childRows?D.filter_ignoreCase?A.toLowerCase():A:""}if(x=!1,y=t.processRow(O,z,I),c=o.$row,w=y?!0:!1,m=o.$row.filter(":gt( 0 )"),D.filter_childRows&&m.length){if(D.filter_childByColumn)for(D.filter_childWithSibs||(m.addClass(D.filter_filteredRow),c=c.eq(0)),b=0;b<m.length;b++)z.$row=m.eq(b),z.cacheArray=o.child[b],z.rawArray=z.cacheArray,w=t.processRow(O,z,I),x=x||w,!D.filter_childWithSibs&&w&&m.eq(b).removeClass(D.filter_filteredRow);x=x||y}else x=w;c.toggleClass(D.filter_filteredRow,!x)[0].display=x?"":"none"}}O.filteredRows+=f.not("."+D.filter_filteredRow).length,O.totalRows+=f.length,r.processTbody(i,p,!1)}O.lastCombinedFilter=a,O.lastSearch=M,O.$table.data("lastSearch",M),D.filter_saveFilters&&r.storage&&r.storage(i,"tablesorter-filters",M),O.debug&&console.log("Completed filter widget search"+r.benchmark(F)),D.filter_initialized&&O.$table.trigger("filterEnd",O),setTimeout(function(){O.$table.trigger("applyWidgets")},0)}},getOptionSource:function(i,l,a){i=e(i)[0];var n=i.config,s=n.widgetOptions,o=!1,f=s.filter_selectSource,c=n.$table.data("lastSearch")||[],d="function"==typeof f?!0:r.getColumnData(i,f,l);if(a&&""!==c[l]&&(a=!1),d===!0)o=f(i,l,a);else{if(d instanceof e||"string"===e.type(d)&&d.indexOf("</option>")>=0)return d;e.isArray(d)?o=d:"object"===e.type(f)&&d&&(o=d(i,l,a))}return o===!1&&(o=t.getOptions(i,l,a)),t.processOptions(i,l,o)},processOptions:function(t,i,l){if(!e.isArray(l))return!1;t=e(t)[0];var a,n,s,o,f=t.config,c="undefined"!=typeof i&&null!==i&&i>=0&&i<f.columns,d=[];if(l=e.grep(l,function(t,r){return e.inArray(t,l)===r}),c&&f.$headerIndexed[i].hasClass("filter-select-nosort"))return l;for(o=l.length,s=0;o>s;s++)n=l[s],d.push({t:n,p:c&&f.parsers&&f.parsers.length&&f.parsers[i].format(n,t,[],i)||n});for(a=f.textSorter||"",d.sort(function(e,l){var n=e.p.toString(),s=l.p.toString();return c&&"function"==typeof a?a(n,s,!0,i,t):c&&"object"==typeof a&&a.hasOwnProperty(i)?a[i](n,s,!0,i,t):r.sortNatural?r.sortNatural(n,s):!0}),l=[],o=d.length,s=0;o>s;s++)l.push(d[s].t);return l},getOptions:function(t,i,l){t=e(t)[0];var a,n,s,o,f,c,d,u,p=t.config,h=p.widgetOptions,g=[];for(n=0;n<p.$tbodies.length;n++)for(f=p.cache[n],s=p.cache[n].normalized.length,a=0;s>a;a++)if(o=f.row?f.row[a]:f.normalized[a][p.columns].$row[0],!l||!o.className.match(h.filter_filteredRow))if(h.filter_useParsedData||p.parsers[i].parsed||p.$headerIndexed[i].hasClass("filter-parsed")){if(g.push(""+f.normalized[a][i]),h.filter_childRows&&h.filter_childByColumn)for(u=f.normalized[a][p.columns].$row.length-1,c=0;u>c;c++)g.push(""+f.normalized[a][p.columns].child[c][i])}else if(g.push(f.normalized[a][p.columns].raw[i]),h.filter_childRows&&h.filter_childByColumn)for(u=f.normalized[a][p.columns].$row.length,c=1;u>c;c++)d=f.normalized[a][p.columns].$row.eq(c).children().eq(i),g.push(""+r.getElementText(p,d,i));return g},buildSelect:function(r,l,a,n,s){if(r=e(r)[0],l=parseInt(l,10),r.config.cache&&!e.isEmptyObject(r.config.cache)){var o,f,c,d,u,p,h=r.config,g=h.widgetOptions,m=h.$headerIndexed[l],_='<option value="">'+(m.data("placeholder")||m.attr("data-placeholder")||g.filter_placeholder.select||"")+"</option>",x=h.$table.find("thead").find("select."+i.filter+'[data-column="'+l+'"]').val();if(("undefined"==typeof a||""===a)&&(a=t.getOptionSource(r,l,s)),e.isArray(a)){for(o=0;o<a.length;o++)c=a[o]=(""+a[o]).replace(t.regex.quote,"&quot;"),f=c,c.indexOf(g.filter_selectSourceSeparator)>=0&&(d=c.split(g.filter_selectSourceSeparator),f=d[0],c=d[1]),_+=""!==a[o]?"<option "+(f===c?"":'data-function-name="'+a[o]+'" ')+'value="'+f+'">'+c+"</option>":"";a=[]}u=(h.$filters?h.$filters:h.$table.children("thead")).find("."+i.filter),g.filter_$externalFilters&&(u=u&&u.length?u.add(g.filter_$externalFilters):g.filter_$externalFilters),p=u.filter('select[data-column="'+l+'"]'),p.length&&(p[n?"html":"append"](_),e.isArray(a)||p.append(a).val(x),p.val(x))}},buildDefault:function(e,i){var l,a,n,s=e.config,o=s.widgetOptions,f=s.columns;for(l=0;f>l;l++)a=s.$headerIndexed[l],n=!(a.hasClass("filter-false")||a.hasClass("parser-false")),(a.hasClass("filter-select")||r.getColumnData(e,o.filter_functions,l)===!0)&&n&&t.buildSelect(e,l,"",i,a.hasClass(o.filter_onlyAvail))}},r.getFilters=function(r,l,a,n){var s,o,f,c,d=!1,u=r?e(r)[0].config:"",p=u?u.widgetOptions:"";if(l!==!0&&p&&!p.filter_columnFilters||e.isArray(a)&&a.join("")===u.lastCombinedFilter)return e(r).data("lastSearch");if(u&&(u.$filters&&(o=u.$filters.find("."+i.filter)),p.filter_$externalFilters&&(o=o&&o.length?o.add(p.filter_$externalFilters):p.filter_$externalFilters),o&&o.length))for(d=a||[],s=0;s<u.columns+1;s++)c=s===u.columns?p.filter_anyColumnSelector+","+p.filter_multipleColumnSelector:'[data-column="'+s+'"]',f=o.filter(c),f.length&&(f=t.getLatestSearch(f),e.isArray(a)?(n&&f.length>1&&(f=f.slice(1)),s===u.columns&&(c=f.filter(p.filter_anyColumnSelector),f=c.length?c:f),f.val(a[s]).trigger("change"+u.namespace)):(d[s]=f.val()||"",s===u.columns?f.slice(1).filter('[data-column*="'+f.attr("data-column")+'"]').val(d[s]):f.slice(1).val(d[s])),s===u.columns&&f.length&&(p.filter_$anyMatch=f));return 0===d.length&&(d=!1),d},r.setFilters=function(i,l,a,n){var s=i?e(i)[0].config:"",o=r.getFilters(i,!0,l,n);return s&&a&&(s.lastCombinedFilter=null,s.lastSearch=[],t.searching(s.table,l,n),s.$table.trigger("filterFomatterUpdate")),!!o}}(jQuery);