!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&"object"==typeof module.exports?t(require("jquery")):t(jQuery)}(function(f){function a(){var t=r.settings;if(t.autoDispose&&!f.contains(document.documentElement,this))return f(this).timeago("dispose"),this;var e=i(this);return isNaN(e.datetime)||(0===t.cutoff||Math.abs(o(e.datetime))<t.cutoff?f(this).text(n(e.datetime,f(this).attr("lang")?f(this).attr("lang"):r.settings.lang)):0<f(this).attr("title").length&&f(this).text(f(this).attr("title"))),this}function i(t){if(!(t=f(t)).data("timeago")){t.data("timeago",{datetime:r.datetime(t)});var e=f.trim(t.text());r.settings.localeTitle?t.attr("title",t.data("timeago").datetime.toLocaleString()):!(0<e.length)||r.isTime(t)&&t.attr("title")||t.attr("title",e)}return t.data("timeago")}function n(t,e){return r.inWords(o(t),e)}function o(t){return(new Date).getTime()-t.getTime()}f.timeago=function(t){return t instanceof Date?n(t):n("string"==typeof t?f.timeago.parse(t):"number"==typeof t?new Date(t):f.timeago.datetime(t))};var r=f.timeago;f.extend(f.timeago,{settings:{refreshMillis:6e4,allowPast:!0,allowFuture:!1,localeTitle:!1,cutoff:0,autoDispose:!0,lang:"en",strings:{en:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",inPast:"any moment now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",wordSeparator:" ",numbers:[]}}},inWords:function(n,t){function e(t,e){var a=f.isFunction(t)?t(e,n):t,i=o.numbers&&o.numbers[e]||e;return a.replace(/%d/i,i)}if(!this.settings.allowPast&&!this.settings.allowFuture)throw"timeago allowPast and allowFuture settings can not both be set to false.";var o=this.settings.strings[t]||this.settings.strings[this.settings.lang]||this.settings.strings.en,a=o.prefixAgo,i=o.suffixAgo;if(this.settings.allowFuture&&n<0&&(a=o.prefixFromNow,i=o.suffixFromNow),!this.settings.allowPast&&0<=n)return o.inPast;var r=Math.abs(n)/1e3,s=r/60,u=s/60,l=u/24,m=l/365,d=r<45&&e(o.seconds,Math.round(r))||r<90&&e(o.minute,1)||s<45&&e(o.minutes,Math.round(s))||s<90&&e(o.hour,1)||u<24&&e(o.hours,Math.round(u))||u<42&&e(o.day,1)||l<30&&e(o.days,Math.round(l))||l<45&&e(o.month,1)||l<365&&e(o.months,Math.round(l/30))||m<1.5&&e(o.year,1)||e(o.years,Math.round(m)),h=o.wordSeparator||"";return o.wordSeparator===undefined&&(h=" "),f.trim([a,d,i].join(h))},parse:function(t){var e=f.trim(t);return e=(e=(e=(e=(e=e.replace(/\.\d+/,"")).replace(/-/,"/").replace(/-/,"/")).replace(/T/," ").replace(/Z/," UTC")).replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2")).replace(/([\+\-]\d\d)$/," $100"),new Date(e)},datetime:function(t){var e=r.isTime(t)?f(t).attr("datetime"):f(t).attr("title");return r.parse(e)},isTime:function(t){return"time"===f(t).get(0).tagName.toLowerCase()}});var s={init:function(){s.dispose.call(this);var t=f.proxy(a,this);t();var e=r.settings;0<e.refreshMillis&&(this._timeagoInterval=setInterval(t,e.refreshMillis))},update:function(t){var e=t instanceof Date?t:r.parse(t);f(this).data("timeago",{datetime:e}),r.settings.localeTitle&&f(this).attr("title",e.toLocaleString()),a.apply(this)},updateFromDOM:function(){f(this).data("timeago",{datetime:r.parse(r.isTime(this)?f(this).attr("datetime"):f(this).attr("title"))}),a.apply(this)},dispose:function(){this._timeagoInterval&&(window.clearInterval(this._timeagoInterval),this._timeagoInterval=null)}};f.fn.timeago=function(t,e){var a=t?s[t]:s.init;if(!a)throw new Error("Unknown function name '"+t+"' for timeago");return this.each(function(){a.call(this,e)}),this},document.createElement("abbr"),document.createElement("time")}),function(t){var e=function(){t("time[data-time-ago]").timeago()};t(e),t(document).on("turbolinks:load page:load ajax:success",e)}(jQuery);